
# domain-analysis-inflearn

DDD 스터디를 목적으로 한 `인프런` 도메인 분석 프로젝트

# 이벤트 스토밍

###[이벤트 스토밍 미로(miro)](https://miro.com/app/board/o9J_l1_8h1I=/)


---


# 요구 사항

## 회원

```
GUEST : 게스트 (회원 가입을 한 상태)

STUDENT : 회원 (이메일 인증을 받은 상태)

INSTRUCTOR : 지식 공유자 (지식 공유자로 등록된 회원)
```

- 게스트로 등록할 수 있다.
    - 게스트로 등록할 때는 이메일과 비밀번호가 필요하다.
    - 이메일이 없으면 게스트로 등록할 수 없다.
    - 비밀번호가 없으면 게스트로 등록할 수 없다.
    - 이미 등록 된 이메일로는 회원가입할 수 없다.
- 게스트는 이메일 인증을 받아 회원이 될 수 있다.
- 회원은 지식공유자로 등록할 수 있다.
    - 이메일 인증을 받아야한다.
- 회원 프로필을 변경할 수 있다.
    - 비밀번호를 변경할 수 있다.
- 회원 프로필을 조회할 수 있다.

## 강의

- 지식공유자는 강의 등록을 신청할 수 있다.
    - 강의 제목, 카테고리, 난이도, 교육과정, 금액이 필요하다.
    - 금액은 0원 이상이다.
    - 제목은 비어있지 않아야한다.
- 관리자는 강의를 승인할 수 있다.
- 강의를 수정할 수 있다.
    - 해당 강의의 지식공유자, 관리자만 수정할 수 있다.
    - 금액은 0원 이상이다.
- 강의 목록을 조회할 수 있다.
- 강의 상세 내용을 조회할 수 있다.
- 해당 강의의 수강생과 지식공유자는 **`강의 구성원`** 이다.

### 강의 공지글

- 공지글은 해당 강의의 지식공유자만 관리(생성, 수정, 삭제)할 수 있다.
- 공지글을 생성할 수 있다.
    - 강의 ID, 공지글 제목, 내용이 필요하다.
    - 공지글을 생성하면 메일이 발송된다.
        - 메일은 수강생에게만 발송된다.
        - 수강생 이메일이 올바르지 않으면 이메일을 보낼 수 없다.
- 공지글을 삭제할 수 있다.
- 공지글을 수정할 수 있다.
- 공지글에 댓글을 생성할 수 있다.
    - 댓글은 지식공유자와 수강생이 작성할 수 있다.
- 강의 구성원만 공지사항 목록을 조회할 수 있다.
- 강의 구성원만 공지사항 세부항목을 조회할 수 있다.

### 강의 질문

- 질문과 답변은 강의 구성원만 관리(생성, 수정, 삭제)할 수 있다.
- 질문을 생성할 수 있다.
    - 강의 ID, 질문 제목, 내용이 올바르지 않으면 질문을 생성할 수 없다.
- 질문을 수정할 수 있다.
- 질문을 삭제할 수 있다.
- 답변을 등록할 수 있다.
    - 답변은 수강생과 지식공유자가 작성할 수 있다.
    - 답변이 등록되면 질문 작성자에게 메일을 발송한다.
    - 질문 작성자 이메일이 올바르지 않으면 메일을 보낼 수 없다.
- 강의 구성원만 질문 목록을 조회할 수 있다.
- 강의 구성원만 질문 세부 항목을 조회할 수 있다.

### 강의 후기

- 후기는 수강생만 관리(등록, 수정, 삭제)할 수 있다.
- 수강 후기를 등록할 수 있다.
    - 강의 ID가 올바르지 않다면 수강 후기를 등록할 수 없다.
    - 후기를 등록하면 해당 강의의 지식공유자에게 메일을 발송한다.
    - 지식공유자 이메일이 올바르지 않다면 이메일을 보낼 수 없다.
    - 수강 후기를 등록하면 포인트가 증가된다.
        - 포인트는 300점 증가한다.
- 수강 후기를 수정할 수 있다.
- 수강 후기를 삭제할 수 있다.
- 수강 후기 답변을 등록할 수 있다.
    - 답변은 지식공유자만 등록할 수 있다.
- 수강후기 목록을 조회할 수 있다.

### 강의 할인

- 강의 할인을 시작할 수 있다.
    - 관리자만 접근할 수 있다.
    - 강의 ID가 올바르지 않다면 강의 할인을 시작할 수 없다.
    - 이미 할인 중인 강의는 중복해서 할인을 적용할 수 없다.
    - 관리자는 강의 할인 기간을 연장할 수 있다.
    - 강의 할인 알림에 대한 메일을 발송한다.
        - 위시리스트와 수강바구니에 담은 회원에게 알림메일을 발송한다.
        - 회원 이메일이 올바르지 않다면 이메일을 보낼 수 없다.
- 강의 할인 기간이 지나면 할인이 종료된다.

## 포인트

- 포인트는 회원만 관리할 수 있다.
- 포인트가 증가될 수 있다.
    - 수강평을 남기면 포인트가 증가한다.
    - 질문에 좋아요를 받으면 포인트가 증가한다.
    - 답변이 좋아요를 받으면 포인트가 증가한다.
    - 블로그 글이 좋아요를 받으면 포인트가 증가한다.
- 포인트가 감소될 수 있다.
    - 강의 결제 시 포인트를 사용한다.
- 포인트가 회수될 수 있다.
    - 포인트 기간이 만료되면 회수된다.
    - 포인트를 받기 위한 어뷰징 행위를 하면 포인트가 회수된다.

## 위시리스트

- 위시리스트는 회원만 관리할 수 있다.
- 위시리스트에 추가할 수 있다.
    - 위시리스트에 담으면 추가된다.
    - 강의 ID가 없다면 추가할 수 없다.
- 수강바구니에 담을 수 있다.
    - 위시리스트에서 삭제된다.
- 위시리스트 목록에서 강의를 삭제할 수 있다.
- 위시리스트 목록을 조회할 수 있다.

## 수강바구니

- 수강바구니는 회원만 관리할 수 있다.
- 수강바구니에 추가할 수 있다.
    - 수강신청을 하면 추가된다.
    - 강의 ID가 없다면 추가할 수 없다.
- 위시리스트에 담을 수 있다.
    - 수강바구니에서 삭제된다.
- 수강바구니 목록에서 강의를 삭제할 수 있다.
- 결제 내용을 변경할 수 있다.
    - 쿠폰, 포인트를 적용할 수 있다.
    - 결제자 정보를 변경할 수 있다.
- 결제를 시도할 수 있다.
    - 구매 조건 및 개인정보 취급 방침에 동의를 해야만 결제를 시도할 수 있다.
- 수강바구니 목록을 조회할 수 있다.

## 쿠폰

- 쿠폰을 발급할 수 있다.
    - 쿠폰 발급자만 가능하다.
        - 발급자는 관리자와 해당 강의의 지식공유자이다.
    - 강의 ID, 쿠폰 번호, 만료기간이 필요하다.
- 쿠폰을 등록할 수 있다.
    - 회원은 쿠폰 등록을 시도할 수 있다.
    - 쿠폰 번호가 올바르지 않으면 쿠폰을 등록할 수 없다.
    - 만료된 쿠폰은 등록할 수 없다.
- 쿠폰을 사용할 수 있다.
    - 회원은 쿠폰을 사용할 수 있다.
    - 해당 강의를 결제할 때 적용할 수 있다.
    - 쿠폰을 중복해서 적용할 수 없다.
    - 만료된 쿠폰을 사용할 수 없다.
- 쿠폰이 만료 3일 전에 알림에 대한 메일이 발송된다.
    - 회원 이메일이 올바르지 않으면 이메일을 보낼 수 없다.
- 쿠폰을 부활시킬 수 있다.
    - 만료된 쿠폰 중에서 관리자가 발급한 쿠폰만 부활시킬 수 있다.
    - 쿠폰은 단 1회 부활 시킬 수 있다.
    - 부활시킨 쿠폰은 3일이 지나면 만료된다.
- 회원 이메일이 올바르지 않다면 이메일을 보낼 수 없다.
- 등록한 쿠폰 목록을 조회할 수 있다.

## 결제

- 결제 시도를 할 수 있다.
    - 회원만 결제 시도를 할 수 있다.
    - 결제 정보가 필요하다.
- 결제가 성공한다.
    - 적용한 쿠폰이 사용된다.
        - 쿠폰이 삭제된다.
    - 적용한 포인트가 사용된다.
        - 사용한 포인트가 감소된다.
    - 수강바구니에서 삭제된다.
    - 결제 완료 메일을 발송한다.
        - 회원 이메일이 올바르지 않다면 이메일을 보낼 수 없다.
    - 내 강의에 등록한다.
- 결제가 실패한다.
    - 결제 실패 메일을 발송한다.
        - 결제 실패 사유를 첨부한다.
        - 회원 이메일이 올바르지 않다면 이메일을 보낼 수 없다.

### 환불

- 환불 시도를 할 수 있다.
    - 결제자만 환불 시도를 할 수 있다.
    - 강의 진도율 7% 미만일 경우 환불할 수 있다.
    - 강의 구매일이 1주일이 넘었다면 환불할 수 없다.
    - 강의 자료를 다운로드 받지 않은 강의에 한에서 환불을 시도할 수 있다.
- 환불이 실패한다.
- 환불이 성공한다.
    - 환불 성공 알림에 대한 메일을 발송할 수 있다.
    - 회원 이메일이 올바르지 않다면 이메일을 보낼 수 없다.

## 수강

- 결제가 성공하면 내 강의에 등록된다.
- 강의를 수강할 수 있다.
    - 강의를 수강 완료할 수 있다.
        - 수료증을 발급 받을 수 있다.
- 구매한 유료 강의를 숨길 수 있다.
    - 숨긴 강의를 활성화시킬 수 있다.
- 구매한 무료 강의를 취소할 수 있다.
- 내 강의 목록을 조회할 수 있다.
